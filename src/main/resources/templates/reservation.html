<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout.html}">

<div layout:fragment="reservation" style="padding: 10px">
    <ul class="nav nav-tabs" role="tablist">
        <li class="nav-item" role="presentation">
            <a class="nav-link active" data-bs-toggle="tab" href="#reservation_view" aria-selected="true"
               role="tab" onclick="loadContent('/reservation_view')">예약현황보기</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" data-bs-toggle="tab" href="#reservation_register" aria-selected="false"
               role="tab" onclick="loadContent('/reservation_register')">예약등록하기</a>
        </li>
    </ul>

    <div id="myTabContent" class="tab-content mt-3">
        <div id="body" class="tab-pane fade show active" role="tabpanel"></div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript">
        function loadContent(page) {
            $("#body").load(page, function(response, status, xhr) {
                if (status === "error") {
                    $("#body").html("<p>페이지를 로드하는 데 실패했습니다: " + xhr.status + " " + xhr.statusText + "</p>");
                } else {
                    $("#body").html(response);
                }
            });
        }

        // 페이지가 처음 로드되었을 때 예약현황 페이지 로드
        $(document).ready(function() {
            loadContent('/reservation_view');
        });
    </script>
</div>
</html>
